@using Bibliotheque.Models
@using Bibliotheque.ViewModels
@model Bibliotheque.ViewModels.BibliothequeViewModel

<!DOCTYPE html>
<meta charset="utf-8">

<html>
<head>
    <link href="~/Content/bootstrap-utilities.rtl.min.css" rel="stylesheet" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.5.1.slim.min.js"></script>
    <script src="~/Scripts/bootstrap.bundle.min.js"></script>
    <script src="~/Scripts/jquery-3.5.1.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <link href="/Content/Required.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Background.css" rel="stylesheet" type="text/css" />
    <link href="/Content/Form.css" rel="stylesheet" type="text/css" />
    <meta name="viewport" content="width=device-width" />

    <title>Details</title>

</head>
<body>

<div class="container">
<div class="row">
<div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
<div class="card card-signin my-5">
<div class="card-body">
    <h2 class="card-title text-center"> @TempData["Element"]</h2>
    <form class="form-signin">
        <div class="form-label-group">

            @foreach (User u in (List<User>)TempData["Userlist"])
            {

                <table>

                    @if (Model.LinksVM.Links.Any(l => l.IdUser == u.IdUser && l.IdElement == (int)TempData["IdElement"]))
                    {

                        <tr>
                            <th><h5>@u.Email</h5></th>
                        </tr>

                    }

                    @foreach (Link l in Model.LinksVM.Links.Where(l => l.IdUser == u.IdUser && l.IdElement == (int)TempData["IdElement"]))
                    {
                        <tr>
                            <th>Done : @l.Done</th>
                        </tr>
                    }

                </table>

                if (Model.LinksVM.Links.Any(l => l.IdUser == u.IdUser && l.IdElement == (int)TempData["IdElement"]))
                {
                    <hr class="my-4">
                }

             }

            <button class="btn btn-lg btn-primary" type="submit" onclick="location.href = '@Url.Action("Main", "Home")';return false;">Home</button>
        </div>
    </form>
</div>
</div>
</div>
</div>
</div>
</body>
</html>